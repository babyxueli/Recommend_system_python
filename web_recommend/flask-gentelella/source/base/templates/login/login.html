{% extends "base_site.html" %}

{% block title %} Login {% endblock title %}

{% block stylesheets %}
  {{ super() }}
  <!-- Animate.css -->
  <link href="{{ url_for('static', filename='vendors/animate.css/animate.min.css') }}" rel="stylesheet">
{% endblock stylesheets %}

{% block body_class %}login{% endblock body_class %}

{% block body %}
  <div>
    <a class="hiddenanchor" id="signup"></a>
    <a class="hiddenanchor" id="signin"></a>

    <div class="login_wrapper">
      <div class="animate form login_form">
        <section class="login_content">
          <form method="post">
            <h1>登录</h1>
            
            {% for field in login_form if field.widget.input_type != 'hidden'  %}
            <div>
                {{ field(class="form-control", placeholder=field.label.text) }}
            </div>
            {% endfor %}

            <div>
            <button type="submit" class="btn btn-default submit" name="login">登录</button>
            <a class="reset_pass" href="#">忘记密码?</a>
            </div>

            <div class="clearfix"></div>

            <div class="separator">
              <p class="change_link">第一次访问?
                <a href="#signup" class="to_register"> 创建账号 </a>
              </p>

              <div class="clearfix"></div>
              <br />

              <div>
                <h1><i class="fa fa-paw"></i> 个人电影推荐系统!</h1>
                <p>©2018 All Rights Reserved.</p>
              </div>
            </div>
          </form>
        </section>
      </div>

      <div id="register" class="animate form registration_form">
        <section class="login_content">
          <form method="post">
          <!--<form id="signupform" enctype="multipart/form-data" method="post" data-parsley-validate class="form-horizontal form-label-left">-->
            <h1>创建账号</h1>

            {% for field in create_account_form if field.widget.input_type != 'hidden'  %}
            <div>
                {{ field(class="form-control", placeholder=field.label.text) }}
            </div>
            {% endfor %}

            <!--<div>-->

                <!--<div class="form-group">-->
                  <!--<input type="text" id="username" required="required" class="form-control" placeholder="用户名">-->
                <!--</div>-->
                <!--<div class="form-group">-->
                  <!--<input type="password" id="password" required="required" class="form-control" placeholder="密码">-->
                <!--</div>-->
                <!--<div>-->
                  <!--<button type="submit" class="btn btn-default submit" name="create_account" id="create_account">注册</button>-->
                <!--</div>-->
            <!--</div>-->

            <div>
              <button type="submit" class="btn btn-default submit" name="create_account" id="create_account">注册</button>
            </div>

            <div class="clearfix"></div>

            <div class="separator">
              <p class="change_link">已经有账号 ?
                <a href="#signin" class="to_register"> 登录 </a>
              </p>

              <div class="clearfix"></div>
              <br />

              <div>
                <h1><i class="fa fa-paw"></i> 个人电影推荐系统!</h1>
                <p>©2018 All Rights Reserved.</p>
              </div>
            </div>
          </form>
        </section>
      </div>
    </div>
  </div>
{% endblock body %}

<!--{% block javascripts %}-->

  <!--<script src="{{ url_for('static', filename='vendors/dropzone/dist/min/dropzone.min.js') }}"></script>-->
  <!--<script>-->
      <!--$("#signupform").submit(function(e){-->

        <!--e.preventDefault();-->

        <!--var formData = new FormData($('#signupform')[0]);-->
        <!--formData.append('username', $('#username').val());-->
        <!--formData.append('password', $('#password').val());-->
        <!--console.log('username: ', formData.get('username'));-->

        <!--$.ajax({-->
            <!--url: "{{ url_for('base_blueprint.signup') }}",-->
            <!--type: 'POST',-->
            <!--data: formData,-->
            <!--cache: false,-->
            <!--contentType: false,-->
            <!--processData: false,-->
            <!--success: function (result) {-->
                <!--if (result > 0){-->
                  <!--alert("您现在可以到登录页进行登录了！");-->
                  <!--window.location = "{{ url_for(home_blueprint.recommend) }}";-->
                <!--}-->
                <!--else{-->
                  <!--alert("该用户名已被使用！请重新选择一个！");-->
                  <!--window.location.reload();-->
                <!--}-->
            <!--}-->
        <!--});-->
      <!--})-->
   <!--</script>-->
<!--{% endblock javascripts %}-->
